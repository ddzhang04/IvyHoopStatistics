DESIGN.md 2
For our project, we developed a webpage called Ivy Hoops Insights. We made a webpage that is easily navigable from any tab using the navbar implementation from Bootstrap.

Homepage 
Each user will start off at the homepage. To implement this design, we created a unique route for the index. The user may access the homepage from the navbar by either clicking on the Ivy League athletics logo at the top left of the page or the title, “Ivy Hoops Insights.” For this page we wanted to display a welcoming jumbotron, an image of the ivy league athletics, the current season’s standings table, the current season’s schedule, and recent news articles. To implement this, in our flask route “/” we called the standings, getNews, and ivySchedule functions to generate the necessary tables. For the season’s schedule and standing, we decided to select only a few columns in these tables rather than the full tables that can be found under the schedule and standings subpages. For the standings, schedule, and news, we utilized select queries to insert the specific column info from those queries into a visually appealing table. After calling the creation of each table in the functions, we ensured to drop the table to make sure that our code remains efficient. To make sure that we are constantly providing the standings and schedule for the current season, we pass the universal variable currentYear into our rendered template. Additionally, we pass the necessary dictionaries, schools and news, so those can be utilized in our home.html file as well. 

Navbar
The user can navigate to any of the subpages but utilizing the navbar that will appear on each subpage at the top. To access any of the subpages, the user may click on the title of the page in the navbar and be directed to that html. 

Standings
In the standings subpage, the user is directed to a subpage featuring this season's current standings. By using the sports reference website and the pandas library, the functions standings can access the most recent standings for the current season or a particular past years standings, depending on the argument the user "POSTS” through the flask route, inserting a particular year in the form on the webpage. The default is the current year's standings, but if the user uses the form to search a year on this webpage, the standings function will pass that year and display the respective standings from that season. The only exception for the standings table is the year 2021, since the basketball season was canceled due to the COVID19 pandemic. To handle this case, if the user inputs 2021, the webpage will display an apology page. The standings function will create a SQL table from the data in the dataframe created by the pandas library using the specified year as a placeholder in the webpage to access the unique schedule for each year. From there in the standings route in flask it alters the year to query the correct table, the code calls the standings function, passing in the desired year as a parameter. Using the standings function, it will create the standings sql table for the particular year. Then we use a SQL query to select all of the information from the standings table. Then in our HTML file for standings main we utilize the keys from the sql select query to organize the information into a table. Once the SQL table is used to render the standings template, it is dropped to free memory in our database. 

Schedule
The schedule subpage is similar. The user can access the schedule subpage by using the navbar at to direct there. Also using the sports reference website, the scheduleIvy function can access the current season’s schedule for Ivy League games. The scheduleIvy function creates a SQL table with the data from the scraped dataframe from the current year's standings. In the schedule route in flask, the code calls the schedule function. Then it uses a SQL query to select all of the information to display in the schedule table in the HTML utilizing the key names. Once the SQL table is used to render the html page for our schedule, it is dropped to free up memory. 

Follow teams
When the user navigates to the team subpage from the navbar by selecting “Teams,” they are directed to the Teams subpage. If users have a registered account and are logged in, they are able to follow a team by clicking the “Follow” button on the top right corner of the image of each school. If they are not logged in, the website will return an alert saying that the user has to login in. If users no longer wish to follow a certain team, they can simply click the “Following” button again to unfollow. When the follow or unfollow button is clicked, the button calls the toggleFollow function in the script which toggles the text and color on the button. When the buttons are clicked, the html template calls the unfollow or follow route based on which one the user wants to do. This calls the respective functions in the app.py file and adds and removes the team from the table of favorite teams and returns a success status if it works. Once the status is received in the javascript code, it updates the button depending on if the 

Roster
Furthermore, each of the images are a button themselves, directing the user to the roster of each team. Although when clicked, the default displays the current season’s roster in a table format, the user is able to search with the format YYYY to view past year’s team rosters as well. Similar to the standingsIvy function, the roster function will take on a year and school. Depending on which school icon the user selects on the team page, the webpage will direct to the current year’s roster of that particular school. Using the sports API to access the school’s roster for different years depending on which year is passed in (defaults to current year), the function is able to create a sql table of the current players on each team from the specified  year. The sql table is created based off of the url api with placeholders of year and school to dynamically access various school and year’s’ roster. In the roster route on flask, it specifies a year to dynamically choose and pass that year into the roster function. Like stated before, the roster function will return a sql table with the current year’s players. Using the keys, we can display all of the players in the roster table on the webpage. 

News
The user can navigate to the news subpage from the navbar by selecting “News” from any other webpage or the homepage. In this page, users can view the latest news articles about Ivy League Basketball. These articles will constantly change and always have the latest news. This page displays the title of the article as well as a brief headline so the user can get an idea of what the article is about. If the user would like to view the article, they can navigate to the article by using the button, “Read More.” The page is scraped using the beautifulSoup4 library and it gets the title, description, and link of the first five news articles and puts the information in a sql table. Then, when the news page of the website is accessed, the html template renders the news articles and contains a button that leads the user to the article site. This was accomplished through 

Tickets 
The user can navigate to the tickets subpage using the navbar by selecting “Tickets.” In this subpage, the user is able to view the Ivy League Team they would like to see in action. Using the Bootstrap accordion feature, users can dropdown their favorite team by selecting the particular accordion. From there, the webpage displays a frame of the SeatGeek website where the user should buy their ticket. By using an iframe, the user doesn't have to find the SeatGeek website but can buy their tickets directly from this section in the Ivy Hoops Insights webpage. 

Your teams
In the your teams functions, it finds the teams that are an id associated with the logged in user in the user_followed_teams and then it passes the schedule and the followed teams into the html template. Then the html template will iterate through the schedule to find games where one of the teams matches the following team names and then it will display those games in a table for those teams. When the template is rendered, If the user is not logged in, the page will redirect them to the login page. 

Login, logout, register 
Lastly, if the user is logged in, they will be able to easily logout using the “Log Out” button in the navbar. When the user clicks this button the session is cleared and the user can either continue using the website as a visitor or log in again.  

If a user is not logged in, they can still access many features of the webpage including the subpages standings, schedule, teams, news and tickets. They must be logged in to view “Your Teams.”  

To log in if a user has an account but is logged out, the webpage will check if the user has entered the correct username and password. However, even if you have access to the database, the passwords are hashed so user information and login is secure. 

A new user, if they wish to, may register an account. By selecting register, users can easily create an account with Ivy Hoops Insights by creating a username and password. From there they will automatically be logged in and can start following their favorite JB Ivy League teams. When an account is registered, a user is added to the SQL table, users, and has a unique user_id, username, and password which is hashed for privacy reasons. If a user would like to login again with this account, they could simply use the same credentials established here. 



